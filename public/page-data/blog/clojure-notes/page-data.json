{"componentChunkName":"component---src-templates-post-template-js","path":"/blog/clojure-notes/","result":{"data":{"markdownRemark":{"excerpt":"Dialect of Lisp, that runs on JVM, CLR and also targets JavaScript (Can be transpiled to JS).\nMany features were inherited from Lisp, but also adds on to it…","html":"<p>Dialect of Lisp, that runs on JVM, CLR and also targets JavaScript (Can be transpiled to JS).\nMany features were inherited from Lisp, but also adds on to it. Created by Rich Hickey. It has a big emphasis on concurrency, it is built into the language.</p>\n<ul>\n<li>Dynamic Language\n<ul>\n<li>Flexibility</li>\n<li>Interactivity (Using REPL)</li>\n<li>Consise (they tend to be easier to write, less verbose)</li>\n<li>Exploration</li>\n<li>Focus on the problem</li>\n</ul>\n</li>\n<li>Functional</li>\n<li>Hosted on the JVM</li>\n<li>Supports Concurrency</li>\n<li>Open Source</li>\n</ul>\n<h2>Functional Programming Languages</h2>\n<ul>\n<li>\n<p>Functions as first class objects : Functions are the same as a integer or a string or any other data structure, they can be created and modified on the fly. They can be passed as parameters and be returned by another function.</p>\n</li>\n<li>\n<p>Compose simple functions together to obtain a function, that targets a more complex purpose.</p>\n</li>\n<li>\n<p>Pure Function : A function for a set of arguements always returns the same output, and is not affected by anything else.</p>\n</li>\n<li>\n<p>Immutability : It can’t be changed once it has been declared. It is important when concurrency comes into the picture. Avoids then need for locking a variable when multiple agents are needed to act on it.</p>\n</li>\n<li>\n<p>Laziness : A programming language will only do, as much work as it is asked to do. In haskell, if <code class=\"language-text\">i = 1+2</code> , the operation won’t be performed until i is accessed. In clojure, it is not lazy in terms of mathematical operations, but it is in terms of sequences. We could generate a list of prime numbers.</p>\n</li>\n</ul>\n<h2>Who uses Clojure ?</h2>\n<ul>\n<li>Swym</li>\n<li>Boeing</li>\n<li>Cisco</li>\n<li>Netflix</li>\n<li>CitiGroup</li>\n<li>LinkedIn</li>\n<li>Walmart</li>\n<li>Salesforce</li>\n<li>HelpShift</li>\n</ul>\n<h2>Why Clojure ?</h2>\n<ul>\n<li>Expressive, Elegant</li>\n<li>Good Performance\n<ul>\n<li>Useful for the same tasks Java is</li>\n<li>Wrapper-free Java Access</li>\n</ul>\n</li>\n<li>Powerful Extensibility</li>\n<li>Functional Programming and Concurrency</li>\n</ul>\n<h3>Clojure is a Lisp</h3>\n<ul>\n<li>Dynamic</li>\n<li>Code as data</li>\n<li>Reader</li>\n<li>Small Core (Lesser Syntax)</li>\n<li>Sequences</li>\n<li>Syntactic Abstraction</li>\n</ul>\n<h3>Dynamic Development</h3>\n<ul>\n<li>REPL - read-eval-print-loop</li>\n<li>Define functions on the fly</li>\n<li>Load and Compile code at runtime</li>\n<li>Introspection</li>\n<li>Interactive Environment</li>\n</ul>\n<h3>Atomic Data Types</h3>\n<ul>\n<li>Arbitrary Precision Integers</li>\n<li>Doubles - 1.234</li>\n<li>BigDecimals - 1.234M</li>\n<li>Ratios - 22/7</li>\n<li>Strings - “fred” -> Only double quotes permitted</li>\n<li>Characters - \\a \\b \\c</li>\n<li>Symbols - fred, ethel</li>\n<li>Keywords - :fred, :ethel</li>\n<li>Booleans - true false\n<ul>\n<li>Only <code class=\"language-text\">false</code> and <code class=\"language-text\">nil</code> are logically false in clojure, everything else is logically true.</li>\n</ul>\n</li>\n<li>Null - nil</li>\n<li>Regex Patterns - #“a*b”</li>\n</ul>\n<h3>Data Structures</h3>\n<ul>\n<li>Lists - singly linked (grows at front)\n<ul>\n<li><code class=\"language-text\">(1 2 3 4 5) (fred ethel lucy) (list 1 2 3)</code></li>\n</ul>\n</li>\n<li>Vectors - indexed access, grow at end\n<ul>\n<li><code class=\"language-text\">[1 2 3 4 5] [fred  ethel lucy]</code> // Anything can be a element of a vector</li>\n</ul>\n</li>\n<li>Maps - key/value associations\n<ul>\n<li>Unordered (Hash Map)</li>\n<li>Constant or Near Constant Time LookUp</li>\n<li><code class=\"language-text\">{:a 1, :b 1, :c 3} {1 \"ethel\" 2 \"fred\"}</code></li>\n</ul>\n</li>\n<li>Sets\n<ul>\n<li><code class=\"language-text\">#{fred ethel lucy}</code></li>\n</ul>\n</li>\n<li>Everything Nests</li>\n<li>All are heterogeneous</li>\n</ul>\n<h3>Syntax</h3>\n<ul>\n<li>Data Structures are the code</li>\n<li>Homoiconicity</li>\n<li>No more text-based syntax!</li>\n</ul>\n<h3>Java Evaluation</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e924f1d0234b57b7ba0bccc98cff2041/dc616/eval-java.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEUlEQVQoz41S7W6DMAzk/R9rfYN11eioNFg6Fj6TiA8BKdzkSGlZCFpP8o849uVydgAA8zxjGAaM40hHLMvyJ2zOwpe3uYAO0zShLEoT60a3wYXvzhBqrVHXAkIIZDxDWZa46ZtRvqfO5pRSSJIEeZ4/FLogYlIrpTJW+GywhPT44eWA+DN+KHSL+r5H+B7i9HZC+p2a89539aRRFIWxbUO4LiSSruuMwqqqTBPlmqa5NxNokGSZ7Q2eGQB5Sd5eogviODakBHrw+HoE+2L7hO4a2OA/HGEY4nz+gJLK1BDxlV3Rtq2f0AffunDOkWc5RC02dcEzZO7Q0jRFFEVgjG1+8q9CLJ7Jag0p5X0468X+BWFTXpbRIXllAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Java Evaluation\"\n        title=\"Java Evaluation\"\n        src=\"/static/e924f1d0234b57b7ba0bccc98cff2041/f058b/eval-java.png\"\n        srcset=\"/static/e924f1d0234b57b7ba0bccc98cff2041/c26ae/eval-java.png 158w,\n/static/e924f1d0234b57b7ba0bccc98cff2041/6bdcf/eval-java.png 315w,\n/static/e924f1d0234b57b7ba0bccc98cff2041/f058b/eval-java.png 630w,\n/static/e924f1d0234b57b7ba0bccc98cff2041/dc616/eval-java.png 933w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Clojure Evaluation</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1d404397b65a405be1f968572038f759/dc616/eval-cloj.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVQoz5WSaW6DMBCFuf+xmiMkpOEPKYmjgsFQ9sXAi8aVaWPZaTqSxSzy8zczeACwLAuGYcA4jtDxPM/KX9f14at9M69zHgVSSqRpqo5pNsFntU0wz3MURQHOObI0UzkitRH9jsuyRPQRgSf8h9B8vSi+FG1VVdsYTDF9R2QCu7cdzuH5m9B8mazrOpzeT/B9H4wxtG2LaZqs7VIn1JGue64hk2jTNOrQKIiE/L7vHyhpmSSq73qvLuDGbjj6R4RhiPgzhhACSZzgsD/gEl3cgq7h13WNIAjArmxblpSzWiLVrIIue/bLmLH3l5CN2NXFy4T/sTvyEWCGLQwmlAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Clojure Evaluation\"\n        title=\"Clojure Evaluation\"\n        src=\"/static/1d404397b65a405be1f968572038f759/f058b/eval-cloj.png\"\n        srcset=\"/static/1d404397b65a405be1f968572038f759/c26ae/eval-cloj.png 158w,\n/static/1d404397b65a405be1f968572038f759/6bdcf/eval-cloj.png 315w,\n/static/1d404397b65a405be1f968572038f759/f058b/eval-cloj.png 630w,\n/static/1d404397b65a405be1f968572038f759/dc616/eval-cloj.png 933w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Interactivity, Programs Writing Programs and Syntactic Abstractions</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/f73a1/adv-clj.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVQ4y41Ta4+CMBDs//9jZ3J+OQPqCYdBRZCHvKSAr7lMTT0g6rnJEijb2dmZVtR1DSbjer32Uq8N49F/vSZ2ux2Y5/P53039Ajz8L+I4Rpqm8H0fQRDgdDq9zZBZFiU8z0McJ4qU4ENnVVWIwghZlqn3y+XyVAb9vnJXGH2MYBqmIiOGLGzLhvPjwHEcHA6Hl+wYrDHNKZIkuY2sC8mIzFzXxdJZKsCtt4W/9ZFnuaoh42Fwsi5zkcQJwjBUYLpLlw1BAj9AHMVgLRmxuawkirwAPWBDDSoIxuK+gf2xrIWF8edY5Wa9QbpPURQF1qs1ZtOZ0vHuMrvQKR3H41GJm+e5cp5HigwJZNs22rbtjRtFEaSUfyOTflmWdx3VaMlNBn02uWGf7FV2L8FQnp4p2rHF9wLz2Vyx01HLWmlMrdqmfXmrxHCRbChD11FKwAYE1Kwf3h7N8Nmt0N90cvI1gWEY95PwFuCzUaSslRSWZaFpmpeAv8yuQjieRJ31AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Interacitivity and Programs Writing Programs\"\n        title=\"Interacitivity and Programs Writing Programs\"\n        src=\"/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/f058b/adv-clj.png\"\n        srcset=\"/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/c26ae/adv-clj.png 158w,\n/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/6bdcf/adv-clj.png 315w,\n/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/f058b/adv-clj.png 630w,\n/static/b82f4b6865f1c4c8ffe73e6ccd29e7c9/f73a1/adv-clj.png 822w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>The program generates the data structures and these data structures are then compiled. There are macros.</p>\n<h2>Expressions</h2>\n<ul>\n<li>Everything is an expression</li>\n<li>All data literals represent themselves\n<ul>\n<li>Except:\n<ul>\n<li>Symbols -> Looks for binding to value, locally then globally.</li>\n<li>Lists -> A form of operation.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Operations</h2>\n<ul>\n<li>(op …) -> general format of operations</li>\n<li>Clojure will try to evaluate the first thing inside the paranthesis as a function call.</li>\n<li>The open ends need not always be a data arguement and can be an expression or a function call, whose output is used.</li>\n<li>An op can be :\n<ul>\n<li>\n<p>one of very few <code class=\"language-text\">Special Ops</code></p>\n</li>\n<li>\n<p>macro</p>\n</li>\n<li>\n<p>expression which yields a function</p>\n</li>\n<li>\n<p>Special Ops: (They may not be evaluated)</p>\n<ul>\n<li>\n<p>(<code class=\"language-text\">def</code> name value-expr)</p>\n<ul>\n<li>establishes a global variable</li>\n</ul>\n</li>\n<li>\n<p>(<code class=\"language-text\">if</code> text-expr then-expr else-expr)</p>\n<ul>\n<li>Conditional, evaluates only one of then/else.</li>\n</ul>\n</li>\n<li>\n<p>Other Special Ops:</p>\n<p><code class=\"language-text\">fn let loop recur do new . throw try set! quote var</code></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Macros</h2>\n<ul>\n<li>Supplied with Clojure</li>\n<li>Arguement forms are passed as data to the macro function, which returns a new data structure as a replacement for the macro call.</li>\n<li>Macro handling occurs at compile time.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">(or x y) ; or is not primitive it can be defined in terms of if\n\nbecomes\n\n(let [or__158 x]\n    (if or__158 or__158 y))</code></pre></div>\n<p>Many things built into other languages are just macros in Clojure.</p>\n<h2>Functions</h2>\n<ul>\n<li>First Class Values</li>\n<li>Maps, Vectors and Sets and all are functions in Clojure</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">    (def five 5)\n    (def sqr (fn [x] (* x x)))\n    (sqr five)\n    &gt;&gt;&gt; 25\n    (def m{:fred :ethel :ricky :lucy})\n    (m :fred)\n    :ethel</code></pre></div>\n<h2>Syntax Summary clj // java</h2>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">(def i 5) ; int i = 5;\n\n(if (zero? x) y z) ; if(x == 0)\n                   ;        return y;\n                   ;   else\n                   ;         return z;\n\n(* x y z) // x * y * z\n\n(foo x y z) // foo(x, y, z); \n\n(. foo bar x) // foo.bar(x)</code></pre></div>\n<h2>Sequences</h2>\n<ul>\n<li>Abstraction of Lisp Lists</li>\n<li>(seq coll)\n<ul>\n<li>if collection is non-empty, return seq object on it, else nil</li>\n</ul>\n</li>\n<li>(first seq)\n<ul>\n<li>returns first element</li>\n</ul>\n</li>\n<li>(rest seq)\n<ul>\n<li>returns a seq of the rest of the elements, or nil if no more. All but the first.</li>\n</ul>\n</li>\n</ul>\n<h2>Sequence Library</h2>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">(drop 2 [1 2 3 4 5])\n&gt;&gt;&gt; (3 4 5)\n\n(take 9 (cycle [1 2 3 4]))\n&gt;&gt;&gt; (1 2 3 4 1 2 3 4 1)\n\n(interleave [:a :b :c :d :e] [1 2 3 4 5])\n&gt;&gt;&gt; (:a 1 :b 2 :c 3 :d 4 :e 5)\n\n(partition 3 [1 2 3 4 5 6 7 8 9])\n&gt;&gt;&gt; ((1 2 3) (4 5 6) (7 8 9))\n\n(map vector [:a :b :c :d :e] [1 2 3 4 5])\n&gt;&gt;&gt; ([:a 1] [:b 2] [:c 3] [:d 4] [:e 5])\n\n(apply str(interpose \\, &quot;asdf&quot;))\n&gt;&gt;&gt; &quot;a,s,d,f&quot;\n\n(reduce + (range 100))\n&gt;&gt;&gt; 4950</code></pre></div>\n<h2>Java Interoperability</h2>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">(. Math PI)\n&gt;&gt;&gt; 3.14159265\n\n(.. System getProperties (get &quot;java.version&quot;))\n&gt;&gt;&gt; &quot;1.5.0_13&quot;\n\n(new java.util.Date)\n&gt;&gt;&gt; Thu Jun 05 12:37:32 EDT 2008\n\n(doto (JFrame.) (add (JLabel. &quot;Hello World&quot;)) pack show)\n\n;expands to:\n(let* [G__1837 (JFrame.)]\n    (do (. G__1837 (add (JLabel. &quot;Hello World&quot;)))\n        (. G__1837 pack)\n        (. G__1837 show))\n    G__1837)</code></pre></div>\n<h2>REPL</h2>\n<ul>\n<li>Read Eval Print Loop</li>\n<li>Interactive Shell</li>\n<li>Used for exploratory Programming</li>\n<li>Provided a quick feedback cycle</li>\n<li>Connect to the application running in production</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"clj\"><pre class=\"language-clj\"><code class=\"language-clj\">Clojure 1.11.1\n&gt;&gt; &quot;i am a string&quot;\n&quot;i am a string&quot;\n\n; Equality\n&gt;&gt; (= 1 2)\nfalse\n\n; Add\n&gt;&gt; (+ 1 2 3 4)\n10\n\n; Multiply\n&gt;&gt; (* 1 2 3 4)\n24\n\n; Return first element\n&gt;&gt; (first [1 2 3 4])\n1\n\n; apply a function to all element in a sequence and return the resulting sequence\n&gt;&gt; (map inc [1 2 3])\n(2 3 4)\n\n; Remove based on a condition (here zero? checks for = 0)\n&gt;&gt; (remove zero? [1 0 2 0 3 0])\n(1 2 3)\n\n; Comments look like this\n\n; if statement\n&gt;&gt; (if true &quot;hello&quot; &quot;bye&quot;)\n&quot;hello&quot;\n\n&gt;&gt; (if false &quot;hello&quot;)\nnil ; the else part returns nil automatically (if test-form then-form else-form)\n\n&gt;&gt; (if (zero? 1) (inc 1) (dec 1))\n0 ; 1 not equal to 0, so (dec 1) = 0\n\n&gt;&gt; (if (zero? 0) (inc 1) (dec 1))\n2 ; 0 equal to 0, so (inc 1) = 2\n\n; do operator (allows us to wrap multiple forms together and run them as one expression)\n&gt;&gt; (if true (do (println &quot;hello&quot;) (println &quot;world&quot;)) (do (println &quot;bye&quot;) &quot;good bye&quot;))\nhello ; this is a side effect of println\nworld ; this is a side effect of println\nnil ; this is a return value of (println &quot;world&quot;) and the return value of (println &quot;hello&quot;) is ignored.\n; in do, the return value is the return value of the expression that is evaluated last.\n\n&gt;&gt; (do &quot;clojure&quot; &quot;is fun&quot;)\n&quot;is fun&quot; ; &quot;clojure&quot; is avoided and only &quot;is fun&quot; is returned by do, since it is the last form to be evaluated.\n\n;when operator - used when there is no else part. Combination of if and do. It can also be written just using &#39;if&#39; and &#39;do&#39;.\n&gt;&gt; (when true (println (+ 1 2)) (+ 1 4))\n3 ; side effect of println\n5 ; return value of &#39;when&#39;</code></pre></div>\n<p>A valid clojure expression is called a form, every form returns a value. By convention, if a function returns a true/false(predicate function), we suffix it with a question mark. A function that does a mutataion, we suffix an exclamation mark.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CTRL + L is used to clear REPL\n</code></pre></div>","frontmatter":{"title":"Clojure Fundamentals","tags":["clojure"],"date":"March 04, 2023","description":null}},"prev":{"frontmatter":{"title":"Solutions for DVWA"},"fields":{"slug":"/blog/dvwa-solutions/"}},"next":{"frontmatter":{"title":"Rust Programming Concepts"},"fields":{"slug":"/blog/rust-chap3/"}}},"pageContext":{"slug":"/blog/clojure-notes/","prevSlug":"/blog/dvwa-solutions/","nextSlug":"/blog/rust-chap3/"}},"staticQueryHashes":["2555585279","3159585216","642215718"]}